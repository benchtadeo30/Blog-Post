function ot(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var te={exports:{}},$={},re={exports:{}},W={},Le;function Ve(){if(Le)return W;Le=1;function r(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function t(e,a,o){}function n(e,a,o){}var i=/javascript\s*\:/img;function s(e,a){return i.test(a)?"":a}return W.whiteList=r(),W.getDefaultWhiteList=r,W.onAttr=t,W.onIgnoreAttr=n,W.safeAttrValue=s,W}var pe,Ie;function Ue(){return Ie||(Ie=1,pe={indexOf:function(r,t){var n,i;if(Array.prototype.indexOf)return r.indexOf(t);for(n=0,i=r.length;n<i;n++)if(r[n]===t)return n;return-1},forEach:function(r,t,n){var i,s;if(Array.prototype.forEach)return r.forEach(t,n);for(i=0,s=r.length;i<s;i++)t.call(n,r[i],i,r)},trim:function(r){return String.prototype.trim?r.trim():r.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(r){return String.prototype.trimRight?r.trimRight():r.replace(/(\s*$)/g,"")}}),pe}var he,Ce;function ut(){if(Ce)return he;Ce=1;var r=Ue();function t(n,i){n=r.trimRight(n),n[n.length-1]!==";"&&(n+=";");var s=n.length,e=!1,a=0,o=0,u="";function p(){if(!e){var f=r.trim(n.slice(a,o)),c=f.indexOf(":");if(c!==-1){var k=r.trim(f.slice(0,c)),w=r.trim(f.slice(c+1));if(k){var b=i(a,u.length,k,w,f);b&&(u+=b+"; ")}}}a=o+1}for(;o<s;o++){var h=n[o];if(h==="/"&&n[o+1]==="*"){var l=n.indexOf("*/",o+2);if(l===-1)break;o=l+1,a=o+1,e=!1}else h==="("?e=!0:h===")"?e=!1:h===";"?e||p():h===`
`&&p()}return r.trim(u)}return he=t,he}var ge,Pe;function ct(){if(Pe)return ge;Pe=1;var r=Ve(),t=ut();Ue();function n(e){return e==null}function i(e){var a={};for(var o in e)a[o]=e[o];return a}function s(e){e=i(e||{}),e.whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}return s.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var a=this,o=a.options,u=o.whiteList,p=o.onAttr,h=o.onIgnoreAttr,l=o.safeAttrValue,f=t(e,function(c,k,w,b,z){var m=u[w],x=!1;if(m===!0?x=m:typeof m=="function"?x=m(b):m instanceof RegExp&&(x=m.test(b)),x!==!0&&(x=!1),b=l(w,b),!!b){var E={position:k,sourcePosition:c,source:z,isWhite:x};if(x){var T=p(w,b,E);return n(T)?w+":"+b:T}else{var T=h(w,b,E);if(!n(T))return T}}});return f},ge=s,ge}var qe;function be(){return qe||(qe=1,function(r,t){var n=Ve(),i=ct();function s(a,o){var u=new i(o);return u.process(a)}t=r.exports=s,t.FilterCSS=i;for(var e in n)t[e]=n[e];typeof window<"u"&&(window.filterCSS=r.exports)}(re,re.exports)),re.exports}var de,Be;function ye(){return Be||(Be=1,de={indexOf:function(r,t){var n,i;if(Array.prototype.indexOf)return r.indexOf(t);for(n=0,i=r.length;n<i;n++)if(r[n]===t)return n;return-1},forEach:function(r,t,n){var i,s;if(Array.prototype.forEach)return r.forEach(t,n);for(i=0,s=r.length;i<s;i++)t.call(n,r[i],i,r)},trim:function(r){return String.prototype.trim?r.trim():r.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(r){var t=/\s|\n|\t/,n=t.exec(r);return n?n.index:-1}}),de}var Oe;function He(){if(Oe)return $;Oe=1;var r=be().FilterCSS,t=be().getDefaultWhiteList,n=ye();function i(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var s=new r;function e(g,R,d){}function a(g,R,d){}function o(g,R,d){}function u(g,R,d){}function p(g){return g.replace(l,"&lt;").replace(f,"&gt;")}function h(g,R,d,v){if(d=ee(d),R==="href"||R==="src"){if(d=n.trim(d),d==="#")return"#";if(!(d.substr(0,7)==="http://"||d.substr(0,8)==="https://"||d.substr(0,7)==="mailto:"||d.substr(0,4)==="tel:"||d.substr(0,11)==="data:image/"||d.substr(0,6)==="ftp://"||d.substr(0,2)==="./"||d.substr(0,3)==="../"||d[0]==="#"||d[0]==="/"))return""}else if(R==="background"){if(m.lastIndex=0,m.test(d))return""}else if(R==="style"){if(x.lastIndex=0,x.test(d)||(E.lastIndex=0,E.test(d)&&(m.lastIndex=0,m.test(d))))return"";v!==!1&&(v=v||s,d=v.process(d))}return d=P(d),d}var l=/</g,f=/>/g,c=/"/g,k=/&quot;/g,w=/&#([a-zA-Z0-9]*);?/gim,b=/&colon;?/gim,z=/&newline;?/gim,m=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,x=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,E=/u\s*r\s*l\s*\(.*/gi;function T(g){return g.replace(c,"&quot;")}function S(g){return g.replace(k,'"')}function _(g){return g.replace(w,function(d,v){return v[0]==="x"||v[0]==="X"?String.fromCharCode(parseInt(v.substr(1),16)):String.fromCharCode(parseInt(v,10))})}function I(g){return g.replace(b,":").replace(z," ")}function Z(g){for(var R="",d=0,v=g.length;d<v;d++)R+=g.charCodeAt(d)<32?" ":g.charAt(d);return n.trim(R)}function ee(g){return g=S(g),g=_(g),g=I(g),g=Z(g),g}function P(g){return g=T(g),g=p(g),g}function B(){return""}function fe(g,R){typeof R!="function"&&(R=function(){});var d=!Array.isArray(g);function v(C){return d?!0:n.indexOf(g,C)!==-1}var q=[],D=!1;return{onIgnoreTag:function(C,H,N){if(v(C))if(N.isClosing){var M="[/removed]",lt=N.position+M.length;return q.push([D!==!1?D:N.position,lt]),D=!1,M}else return D||(D=N.position),"[removed]";else return R(C,H,N)},remove:function(C){var H="",N=0;return n.forEach(q,function(M){H+=C.slice(N,M[0]),N=M[1]}),H+=C.slice(N),H}}}function U(g){for(var R="",d=0;d<g.length;){var v=g.indexOf("<!--",d);if(v===-1){R+=g.slice(d);break}R+=g.slice(d,v);var q=g.indexOf("-->",v);if(q===-1)break;d=q+3}return R}function F(g){var R=g.split("");return R=R.filter(function(d){var v=d.charCodeAt(0);return v===127?!1:v<=31?v===10||v===13:!0}),R.join("")}return $.whiteList=i(),$.getDefaultWhiteList=i,$.onTag=e,$.onIgnoreTag=a,$.onTagAttr=o,$.onIgnoreTagAttr=u,$.safeAttrValue=h,$.escapeHtml=p,$.escapeQuote=T,$.unescapeQuote=S,$.escapeHtmlEntities=_,$.escapeDangerHtml5Entities=I,$.clearNonPrintableCharacter=Z,$.friendlyAttrValue=ee,$.escapeAttrValue=P,$.onIgnoreTagStripAll=B,$.StripTagBody=fe,$.stripCommentTag=U,$.stripBlankChar=F,$.attributeWrapSign='"',$.cssFilter=s,$.getDefaultCSSWhiteList=t,$}var ne={},De;function Me(){if(De)return ne;De=1;var r=ye();function t(l){var f=r.spaceIndex(l),c;return f===-1?c=l.slice(1,-1):c=l.slice(1,f+1),c=r.trim(c).toLowerCase(),c.slice(0,1)==="/"&&(c=c.slice(1)),c.slice(-1)==="/"&&(c=c.slice(0,-1)),c}function n(l){return l.slice(0,2)==="</"}function i(l,f,c){var k="",w=0,b=!1,z=!1,m=0,x=l.length,E="",T="";e:for(m=0;m<x;m++){var S=l.charAt(m);if(b===!1){if(S==="<"){b=m;continue}}else if(z===!1){if(S==="<"){k+=c(l.slice(w,m)),b=m,w=m;continue}if(S===">"||m===x-1){k+=c(l.slice(w,b)),T=l.slice(b,m+1),E=t(T),k+=f(b,k.length,E,T,n(T)),w=m+1,b=!1;continue}if(S==='"'||S==="'")for(var _=1,I=l.charAt(m-_);I.trim()===""||I==="=";){if(I==="="){z=S;continue e}I=l.charAt(m-++_)}}else if(S===z){z=!1;continue}}return w<x&&(k+=c(l.substr(w))),k}var s=/[^a-zA-Z0-9\\_:.-]/gim;function e(l,f){var c=0,k=0,w=[],b=!1,z=l.length;function m(_,I){if(_=r.trim(_),_=_.replace(s,"").toLowerCase(),!(_.length<1)){var Z=f(_,I||"");Z&&w.push(Z)}}for(var x=0;x<z;x++){var E=l.charAt(x),T,S;if(b===!1&&E==="="){b=l.slice(c,x),c=x+1,k=l.charAt(c)==='"'||l.charAt(c)==="'"?c:o(l,x+1);continue}if(b!==!1&&x===k){if(S=l.indexOf(E,x+1),S===-1)break;T=r.trim(l.slice(k+1,S)),m(b,T),b=!1,x=S,c=x+1;continue}if(/\s|\n|\t/.test(E))if(l=l.replace(/\s|\n|\t/g," "),b===!1)if(S=a(l,x),S===-1){T=r.trim(l.slice(c,x)),m(T),b=!1,c=x+1;continue}else{x=S-1;continue}else if(S=u(l,x-1),S===-1){T=r.trim(l.slice(c,x)),T=h(T),m(b,T),b=!1,c=x+1;continue}else continue}return c<l.length&&(b===!1?m(l.slice(c)):m(b,h(r.trim(l.slice(c))))),r.trim(w.join(" "))}function a(l,f){for(;f<l.length;f++){var c=l[f];if(c!==" ")return c==="="?f:-1}}function o(l,f){for(;f<l.length;f++){var c=l[f];if(c!==" ")return c==="'"||c==='"'?f:-1}}function u(l,f){for(;f>0;f--){var c=l[f];if(c!==" ")return c==="="?f:-1}}function p(l){return l[0]==='"'&&l[l.length-1]==='"'||l[0]==="'"&&l[l.length-1]==="'"}function h(l){return p(l)?l.substr(1,l.length-2):l}return ne.parseTag=i,ne.parseAttr=e,ne}var ke,Ne;function ft(){if(Ne)return ke;Ne=1;var r=be().FilterCSS,t=He(),n=Me(),i=n.parseTag,s=n.parseAttr,e=ye();function a(l){return l==null}function o(l){var f=e.spaceIndex(l);if(f===-1)return{html:"",closing:l[l.length-2]==="/"};l=e.trim(l.slice(f+1,-1));var c=l[l.length-1]==="/";return c&&(l=e.trim(l.slice(0,-1))),{html:l,closing:c}}function u(l){var f={};for(var c in l)f[c]=l[c];return f}function p(l){var f={};for(var c in l)Array.isArray(l[c])?f[c.toLowerCase()]=l[c].map(function(k){return k.toLowerCase()}):f[c.toLowerCase()]=l[c];return f}function h(l){l=u(l||{}),l.stripIgnoreTag&&(l.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),l.onIgnoreTag=t.onIgnoreTagStripAll),l.whiteList||l.allowList?l.whiteList=p(l.whiteList||l.allowList):l.whiteList=t.whiteList,this.attributeWrapSign=l.singleQuotedAttributeValue===!0?"'":t.attributeWrapSign,l.onTag=l.onTag||t.onTag,l.onTagAttr=l.onTagAttr||t.onTagAttr,l.onIgnoreTag=l.onIgnoreTag||t.onIgnoreTag,l.onIgnoreTagAttr=l.onIgnoreTagAttr||t.onIgnoreTagAttr,l.safeAttrValue=l.safeAttrValue||t.safeAttrValue,l.escapeHtml=l.escapeHtml||t.escapeHtml,this.options=l,l.css===!1?this.cssFilter=!1:(l.css=l.css||{},this.cssFilter=new r(l.css))}return h.prototype.process=function(l){if(l=l||"",l=l.toString(),!l)return"";var f=this,c=f.options,k=c.whiteList,w=c.onTag,b=c.onIgnoreTag,z=c.onTagAttr,m=c.onIgnoreTagAttr,x=c.safeAttrValue,E=c.escapeHtml,T=f.attributeWrapSign,S=f.cssFilter;c.stripBlankChar&&(l=t.stripBlankChar(l)),c.allowCommentTag||(l=t.stripCommentTag(l));var _=!1;c.stripIgnoreTagBody&&(_=t.StripTagBody(c.stripIgnoreTagBody,b),b=_.onIgnoreTag);var I=i(l,function(Z,ee,P,B,fe){var U={sourcePosition:Z,position:ee,isClosing:fe,isWhite:Object.prototype.hasOwnProperty.call(k,P)},F=w(P,B,U);if(!a(F))return F;if(U.isWhite){if(U.isClosing)return"</"+P+">";var g=o(B),R=k[P],d=s(g.html,function(v,q){var D=e.indexOf(R,v)!==-1,C=z(P,v,q,D);return a(C)?D?(q=x(P,v,q,S),q?v+"="+T+q+T:v):(C=m(P,v,q,D),a(C)?void 0:C):C});return B="<"+P,d&&(B+=" "+d),g.closing&&(B+=" /"),B+=">",B}else return F=b(P,B,U),a(F)?E(B):F},E);return _&&(I=_.remove(I)),I},ke=h,ke}var Ge;function pt(){return Ge||(Ge=1,function(r,t){var n=He(),i=Me(),s=ft();function e(o,u){var p=new s(u);return p.process(o)}t=r.exports=e,t.filterXSS=e,t.FilterXSS=s,function(){for(var o in n)t[o]=n[o];for(var u in i)t[u]=i[u]}(),typeof window<"u"&&(window.filterXSS=r.exports);function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=r.exports)}(te,te.exports)),te.exports}var ht=pt();const jt=ot(ht);function ve(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var V=ve();function je(r){V=r}var K={exec:()=>null};function y(r,t=""){let n=typeof r=="string"?r:r.source,i={replace:(s,e)=>{let a=typeof e=="string"?e:e.source;return a=a.replace(L.caret,"$1"),n=n.replace(s,a),i},getRegex:()=>new RegExp(n,t)};return i}var L={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},gt=/^(?:[ \t]*(?:\n|$))+/,dt=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,kt=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Y=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,bt=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ae=/(?:[*+-]|\d{1,9}[.)])/,Je=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ke=y(Je).replace(/bull/g,Ae).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),xt=y(Je).replace(/bull/g,Ae).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Te=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,mt=/^[^\n]+/,Se=/(?!\s*\])(?:\\.|[^\[\]\\])+/,wt=y(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Se).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),yt=y(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ae).getRegex(),ue="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Re=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,vt=y("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Re).replace("tag",ue).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ye=y(Te).replace("hr",Y).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ue).getRegex(),At=y(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ye).getRegex(),$e={blockquote:At,code:dt,def:wt,fences:kt,heading:bt,hr:Y,html:vt,lheading:Ke,list:yt,newline:gt,paragraph:Ye,table:K,text:mt},Xe=y("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Y).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ue).getRegex(),Tt={...$e,lheading:xt,table:Xe,paragraph:y(Te).replace("hr",Y).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Xe).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ue).getRegex()},St={...$e,html:y(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Re).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:K,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:y(Te).replace("hr",Y).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ke).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Rt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,$t=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,et=/^( {2,}|\\)\n(?!\s*$)/,_t=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ce=/[\p{P}\p{S}]/u,_e=/[\s\p{P}\p{S}]/u,tt=/[^\s\p{P}\p{S}]/u,Et=y(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,_e).getRegex(),rt=/(?!~)[\p{P}\p{S}]/u,zt=/(?!~)[\s\p{P}\p{S}]/u,Lt=/(?:[^\s\p{P}\p{S}]|~)/u,It=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,nt=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Ct=y(nt,"u").replace(/punct/g,ce).getRegex(),Pt=y(nt,"u").replace(/punct/g,rt).getRegex(),st="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",qt=y(st,"gu").replace(/notPunctSpace/g,tt).replace(/punctSpace/g,_e).replace(/punct/g,ce).getRegex(),Bt=y(st,"gu").replace(/notPunctSpace/g,Lt).replace(/punctSpace/g,zt).replace(/punct/g,rt).getRegex(),Ot=y("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,tt).replace(/punctSpace/g,_e).replace(/punct/g,ce).getRegex(),Dt=y(/\\(punct)/,"gu").replace(/punct/g,ce).getRegex(),Nt=y(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Gt=y(Re).replace("(?:-->|$)","-->").getRegex(),Xt=y("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Gt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ae=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Zt=y(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ae).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),it=y(/^!?\[(label)\]\[(ref)\]/).replace("label",ae).replace("ref",Se).getRegex(),at=y(/^!?\[(ref)\](?:\[\])?/).replace("ref",Se).getRegex(),Ft=y("reflink|nolink(?!\\()","g").replace("reflink",it).replace("nolink",at).getRegex(),Ee={_backpedal:K,anyPunctuation:Dt,autolink:Nt,blockSkip:It,br:et,code:$t,del:K,emStrongLDelim:Ct,emStrongRDelimAst:qt,emStrongRDelimUnd:Ot,escape:Rt,link:Zt,nolink:at,punctuation:Et,reflink:it,reflinkSearch:Ft,tag:Xt,text:_t,url:K},Wt={...Ee,link:y(/^!?\[(label)\]\((.*?)\)/).replace("label",ae).getRegex(),reflink:y(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ae).getRegex()},xe={...Ee,emStrongRDelimAst:Bt,emStrongLDelim:Pt,url:y(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Qt={...xe,br:y(et).replace("{2,}","*").getRegex(),text:y(xe.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},se={normal:$e,gfm:Tt,pedantic:St},j={normal:Ee,gfm:xe,breaks:Qt,pedantic:Wt},Vt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ze=r=>Vt[r];function O(r,t){if(t){if(L.escapeTest.test(r))return r.replace(L.escapeReplace,Ze)}else if(L.escapeTestNoEncode.test(r))return r.replace(L.escapeReplaceNoEncode,Ze);return r}function Fe(r){try{r=encodeURI(r).replace(L.percentDecode,"%")}catch{return null}return r}function We(r,t){let n=r.replace(L.findPipe,(e,a,o)=>{let u=!1,p=a;for(;--p>=0&&o[p]==="\\";)u=!u;return u?"|":" |"}),i=n.split(L.splitPipe),s=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;s<i.length;s++)i[s]=i[s].trim().replace(L.slashPipe,"|");return i}function J(r,t,n){let i=r.length;if(i===0)return"";let s=0;for(;s<i&&r.charAt(i-s-1)===t;)s++;return r.slice(0,i-s)}function Ut(r,t){if(r.indexOf(t[1])===-1)return-1;let n=0;for(let i=0;i<r.length;i++)if(r[i]==="\\")i++;else if(r[i]===t[0])n++;else if(r[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}function Qe(r,t,n,i,s){let e=t.href,a=t.title||null,o=r[1].replace(s.other.outputLinkReplace,"$1");i.state.inLink=!0;let u={type:r[0].charAt(0)==="!"?"image":"link",raw:n,href:e,title:a,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,u}function Ht(r,t,n){let i=r.match(n.other.indentCodeCompensation);if(i===null)return t;let s=i[1];return t.split(`
`).map(e=>{let a=e.match(n.other.beginningSpace);if(a===null)return e;let[o]=a;return o.length>=s.length?e.slice(s.length):e}).join(`
`)}var le=class{options;rules;lexer;constructor(r){this.options=r||V}space(r){let t=this.rules.block.newline.exec(r);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(r){let t=this.rules.block.code.exec(r);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:J(n,`
`)}}}fences(r){let t=this.rules.block.fences.exec(r);if(t){let n=t[0],i=Ht(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(r){let t=this.rules.block.heading.exec(r);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let i=J(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(r){let t=this.rules.block.hr.exec(r);if(t)return{type:"hr",raw:J(t[0],`
`)}}blockquote(r){let t=this.rules.block.blockquote.exec(r);if(t){let n=J(t[0],`
`).split(`
`),i="",s="",e=[];for(;n.length>0;){let a=!1,o=[],u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))o.push(n[u]),a=!0;else if(!a)o.push(n[u]);else break;n=n.slice(u);let p=o.join(`
`),h=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${p}`:p,s=s?`${s}
${h}`:h;let l=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,e,!0),this.lexer.state.top=l,n.length===0)break;let f=e.at(-1);if(f?.type==="code")break;if(f?.type==="blockquote"){let c=f,k=c.raw+`
`+n.join(`
`),w=this.blockquote(k);e[e.length-1]=w,i=i.substring(0,i.length-c.raw.length)+w.raw,s=s.substring(0,s.length-c.text.length)+w.text;break}else if(f?.type==="list"){let c=f,k=c.raw+`
`+n.join(`
`),w=this.list(k);e[e.length-1]=w,i=i.substring(0,i.length-f.raw.length)+w.raw,s=s.substring(0,s.length-c.raw.length)+w.raw,n=k.substring(e.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:e,text:s}}}list(r){let t=this.rules.block.list.exec(r);if(t){let n=t[1].trim(),i=n.length>1,s={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let e=this.rules.other.listItemRegex(n),a=!1;for(;r;){let u=!1,p="",h="";if(!(t=e.exec(r))||this.rules.block.hr.test(r))break;p=t[0],r=r.substring(p.length);let l=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,z=>" ".repeat(3*z.length)),f=r.split(`
`,1)[0],c=!l.trim(),k=0;if(this.options.pedantic?(k=2,h=l.trimStart()):c?k=t[1].length+1:(k=t[2].search(this.rules.other.nonSpaceChar),k=k>4?1:k,h=l.slice(k),k+=t[1].length),c&&this.rules.other.blankLine.test(f)&&(p+=f+`
`,r=r.substring(f.length+1),u=!0),!u){let z=this.rules.other.nextBulletRegex(k),m=this.rules.other.hrRegex(k),x=this.rules.other.fencesBeginRegex(k),E=this.rules.other.headingBeginRegex(k),T=this.rules.other.htmlBeginRegex(k);for(;r;){let S=r.split(`
`,1)[0],_;if(f=S,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),_=f):_=f.replace(this.rules.other.tabCharGlobal,"    "),x.test(f)||E.test(f)||T.test(f)||z.test(f)||m.test(f))break;if(_.search(this.rules.other.nonSpaceChar)>=k||!f.trim())h+=`
`+_.slice(k);else{if(c||l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||x.test(l)||E.test(l)||m.test(l))break;h+=`
`+f}!c&&!f.trim()&&(c=!0),p+=S+`
`,r=r.substring(S.length+1),l=_.slice(k)}}s.loose||(a?s.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(a=!0));let w=null,b;this.options.gfm&&(w=this.rules.other.listIsTask.exec(h),w&&(b=w[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:p,task:!!w,checked:b,loose:!1,text:h,tokens:[]}),s.raw+=p}let o=s.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let u=0;u<s.items.length;u++)if(this.lexer.state.top=!1,s.items[u].tokens=this.lexer.blockTokens(s.items[u].text,[]),!s.loose){let p=s.items[u].tokens.filter(l=>l.type==="space"),h=p.length>0&&p.some(l=>this.rules.other.anyLine.test(l.raw));s.loose=h}if(s.loose)for(let u=0;u<s.items.length;u++)s.items[u].loose=!0;return s}}html(r){let t=this.rules.block.html.exec(r);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(r){let t=this.rules.block.def.exec(r);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:s}}}table(r){let t=this.rules.block.table.exec(r);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=We(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],e={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let a of i)this.rules.other.tableAlignRight.test(a)?e.align.push("right"):this.rules.other.tableAlignCenter.test(a)?e.align.push("center"):this.rules.other.tableAlignLeft.test(a)?e.align.push("left"):e.align.push(null);for(let a=0;a<n.length;a++)e.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:e.align[a]});for(let a of s)e.rows.push(We(a,e.header.length).map((o,u)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:e.align[u]})));return e}}lheading(r){let t=this.rules.block.lheading.exec(r);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(r){let t=this.rules.block.paragraph.exec(r);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(r){let t=this.rules.block.text.exec(r);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(r){let t=this.rules.inline.escape.exec(r);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(r){let t=this.rules.inline.tag.exec(r);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(r){let t=this.rules.inline.link.exec(r);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let e=J(n.slice(0,-1),"\\");if((n.length-e.length)%2===0)return}else{let e=Ut(t[2],"()");if(e===-2)return;if(e>-1){let a=(t[0].indexOf("!")===0?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let i=t[2],s="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(i);e&&(i=e[1],s=e[3])}else s=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),Qe(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(r,t){let n;if((n=this.rules.inline.reflink.exec(r))||(n=this.rules.inline.nolink.exec(r))){let i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=t[i.toLowerCase()];if(!s){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Qe(n,s,n[0],this.lexer,this.rules)}}emStrong(r,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(r);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...i[0]].length-1,e,a,o=s,u=0,p=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*r.length+s);(i=p.exec(t))!=null;){if(e=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!e)continue;if(a=[...e].length,i[3]||i[4]){o+=a;continue}else if((i[5]||i[6])&&s%3&&!((s+a)%3)){u+=a;continue}if(o-=a,o>0)continue;a=Math.min(a,a+o+u);let h=[...i[0]][0].length,l=r.slice(0,s+i.index+h+a);if(Math.min(s,a)%2){let c=l.slice(1,-1);return{type:"em",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}let f=l.slice(2,-2);return{type:"strong",raw:l,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(r){let t=this.rules.inline.code.exec(r);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(r){let t=this.rules.inline.br.exec(r);if(t)return{type:"br",raw:t[0]}}del(r){let t=this.rules.inline.del.exec(r);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(r){let t=this.rules.inline.autolink.exec(r);if(t){let n,i;return t[2]==="@"?(n=t[1],i="mailto:"+n):(n=t[1],i=n),{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(r){let t;if(t=this.rules.inline.url.exec(r)){let n,i;if(t[2]==="@")n=t[0],i="mailto:"+n;else{let s;do s=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(s!==t[0]);n=t[0],t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(r){let t=this.rules.inline.text.exec(r);if(t){let n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},G=class me{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||V,this.options.tokenizer=this.options.tokenizer||new le,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:L,block:se.normal,inline:j.normal};this.options.pedantic?(n.block=se.pedantic,n.inline=j.pedantic):this.options.gfm&&(n.block=se.gfm,this.options.breaks?n.inline=j.breaks:n.inline=j.gfm),this.tokenizer.rules=n}static get rules(){return{block:se,inline:j}}static lex(t,n){return new me(n).lex(t)}static lexInline(t,n){return new me(n).inlineTokens(t)}lex(t){t=t.replace(L.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],i=!1){for(this.options.pedantic&&(t=t.replace(L.tabCharGlobal,"    ").replace(L.spaceLine,""));t;){let s;if(this.options.extensions?.block?.some(a=>(s=a.call({lexer:this},t,n))?(t=t.substring(s.raw.length),n.push(s),!0):!1))continue;if(s=this.tokenizer.space(t)){t=t.substring(s.raw.length);let a=n.at(-1);s.raw.length===1&&a!==void 0?a.raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(t)){t=t.substring(s.raw.length);let a=n.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=`
`+s.raw,a.text+=`
`+s.text,this.inlineQueue.at(-1).src=a.text):n.push(s);continue}if(s=this.tokenizer.fences(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(t)){t=t.substring(s.raw.length);let a=n.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=`
`+s.raw,a.text+=`
`+s.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(t)){t=t.substring(s.raw.length),n.push(s);continue}let e=t;if(this.options.extensions?.startBlock){let a=1/0,o=t.slice(1),u;this.options.extensions.startBlock.forEach(p=>{u=p.call({lexer:this},o),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(e=t.substring(0,a+1))}if(this.state.top&&(s=this.tokenizer.paragraph(e))){let a=n.at(-1);i&&a?.type==="paragraph"?(a.raw+=`
`+s.raw,a.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):n.push(s),i=e.length!==t.length,t=t.substring(s.raw.length);continue}if(s=this.tokenizer.text(t)){t=t.substring(s.raw.length);let a=n.at(-1);a?.type==="text"?(a.raw+=`
`+s.raw,a.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):n.push(s);continue}if(t){let a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let i=t,s=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)o.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,s.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let e=!1,a="";for(;t;){e||(a=""),e=!1;let o;if(this.options.extensions?.inline?.some(p=>(o=p.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.escape(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.tag(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.link(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(o.raw.length);let p=n.at(-1);o.type==="text"&&p?.type==="text"?(p.raw+=o.raw,p.text+=o.text):n.push(o);continue}if(o=this.tokenizer.emStrong(t,i,a)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.codespan(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.br(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.del(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.autolink(t)){t=t.substring(o.raw.length),n.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(t))){t=t.substring(o.raw.length),n.push(o);continue}let u=t;if(this.options.extensions?.startInline){let p=1/0,h=t.slice(1),l;this.options.extensions.startInline.forEach(f=>{l=f.call({lexer:this},h),typeof l=="number"&&l>=0&&(p=Math.min(p,l))}),p<1/0&&p>=0&&(u=t.substring(0,p+1))}if(o=this.tokenizer.inlineText(u)){t=t.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(a=o.raw.slice(-1)),e=!0;let p=n.at(-1);p?.type==="text"?(p.raw+=o.raw,p.text+=o.text):n.push(o);continue}if(t){let p="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return n}},oe=class{options;parser;constructor(r){this.options=r||V}space(r){return""}code({text:r,lang:t,escaped:n}){let i=(t||"").match(L.notSpaceStart)?.[0],s=r.replace(L.endingNewline,"")+`
`;return i?'<pre><code class="language-'+O(i)+'">'+(n?s:O(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:O(s,!0))+`</code></pre>
`}blockquote({tokens:r}){return`<blockquote>
${this.parser.parse(r)}</blockquote>
`}html({text:r}){return r}heading({tokens:r,depth:t}){return`<h${t}>${this.parser.parseInline(r)}</h${t}>
`}hr(r){return`<hr>
`}list(r){let t=r.ordered,n=r.start,i="";for(let a=0;a<r.items.length;a++){let o=r.items[a];i+=this.listitem(o)}let s=t?"ol":"ul",e=t&&n!==1?' start="'+n+'"':"";return"<"+s+e+`>
`+i+"</"+s+`>
`}listitem(r){let t="";if(r.task){let n=this.checkbox({checked:!!r.checked});r.loose?r.tokens[0]?.type==="paragraph"?(r.tokens[0].text=n+" "+r.tokens[0].text,r.tokens[0].tokens&&r.tokens[0].tokens.length>0&&r.tokens[0].tokens[0].type==="text"&&(r.tokens[0].tokens[0].text=n+" "+O(r.tokens[0].tokens[0].text),r.tokens[0].tokens[0].escaped=!0)):r.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(r.tokens,!!r.loose),`<li>${t}</li>
`}checkbox({checked:r}){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:r}){return`<p>${this.parser.parseInline(r)}</p>
`}table(r){let t="",n="";for(let s=0;s<r.header.length;s++)n+=this.tablecell(r.header[s]);t+=this.tablerow({text:n});let i="";for(let s=0;s<r.rows.length;s++){let e=r.rows[s];n="";for(let a=0;a<e.length;a++)n+=this.tablecell(e[a]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:r}){return`<tr>
${r}</tr>
`}tablecell(r){let t=this.parser.parseInline(r.tokens),n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:r}){return`<strong>${this.parser.parseInline(r)}</strong>`}em({tokens:r}){return`<em>${this.parser.parseInline(r)}</em>`}codespan({text:r}){return`<code>${O(r,!0)}</code>`}br(r){return"<br>"}del({tokens:r}){return`<del>${this.parser.parseInline(r)}</del>`}link({href:r,title:t,tokens:n}){let i=this.parser.parseInline(n),s=Fe(r);if(s===null)return i;r=s;let e='<a href="'+r+'"';return t&&(e+=' title="'+O(t)+'"'),e+=">"+i+"</a>",e}image({href:r,title:t,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let s=Fe(r);if(s===null)return O(n);r=s;let e=`<img src="${r}" alt="${n}"`;return t&&(e+=` title="${O(t)}"`),e+=">",e}text(r){return"tokens"in r&&r.tokens?this.parser.parseInline(r.tokens):"escaped"in r&&r.escaped?r.text:O(r.text)}},ze=class{strong({text:r}){return r}em({text:r}){return r}codespan({text:r}){return r}del({text:r}){return r}html({text:r}){return r}text({text:r}){return r}link({text:r}){return""+r}image({text:r}){return""+r}br(){return""}},X=class we{options;renderer;textRenderer;constructor(t){this.options=t||V,this.options.renderer=this.options.renderer||new oe,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ze}static parse(t,n){return new we(n).parse(t)}static parseInline(t,n){return new we(n).parseInline(t)}parse(t,n=!0){let i="";for(let s=0;s<t.length;s++){let e=t[s];if(this.options.extensions?.renderers?.[e.type]){let o=e,u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){i+=u||"";continue}}let a=e;switch(a.type){case"space":{i+=this.renderer.space(a);continue}case"hr":{i+=this.renderer.hr(a);continue}case"heading":{i+=this.renderer.heading(a);continue}case"code":{i+=this.renderer.code(a);continue}case"table":{i+=this.renderer.table(a);continue}case"blockquote":{i+=this.renderer.blockquote(a);continue}case"list":{i+=this.renderer.list(a);continue}case"html":{i+=this.renderer.html(a);continue}case"paragraph":{i+=this.renderer.paragraph(a);continue}case"text":{let o=a,u=this.renderer.text(o);for(;s+1<t.length&&t[s+1].type==="text";)o=t[++s],u+=`
`+this.renderer.text(o);n?i+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):i+=u;continue}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}parseInline(t,n=this.renderer){let i="";for(let s=0;s<t.length;s++){let e=t[s];if(this.options.extensions?.renderers?.[e.type]){let o=this.options.extensions.renderers[e.type].call({parser:this},e);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(e.type)){i+=o||"";continue}}let a=e;switch(a.type){case"escape":{i+=n.text(a);break}case"html":{i+=n.html(a);break}case"link":{i+=n.link(a);break}case"image":{i+=n.image(a);break}case"strong":{i+=n.strong(a);break}case"em":{i+=n.em(a);break}case"codespan":{i+=n.codespan(a);break}case"br":{i+=n.br(a);break}case"del":{i+=n.del(a);break}case"text":{i+=n.text(a);break}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}},ie=class{options;block;constructor(r){this.options=r||V}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(r){return r}postprocess(r){return r}processAllTokens(r){return r}provideLexer(){return this.block?G.lex:G.lexInline}provideParser(){return this.block?X.parse:X.parseInline}},Mt=class{defaults=ve();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=X;Renderer=oe;TextRenderer=ze;Lexer=G;Tokenizer=le;Hooks=ie;constructor(...r){this.use(...r)}walkTokens(r,t){let n=[];for(let i of r)switch(n=n.concat(t.call(this,i)),i.type){case"table":{let s=i;for(let e of s.header)n=n.concat(this.walkTokens(e.tokens,t));for(let e of s.rows)for(let a of e)n=n.concat(this.walkTokens(a.tokens,t));break}case"list":{let s=i;n=n.concat(this.walkTokens(s.items,t));break}default:{let s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(e=>{let a=s[e].flat(1/0);n=n.concat(this.walkTokens(a,t))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,t)))}}return n}use(...r){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(n=>{let i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let e=t.renderers[s.name];e?t.renderers[s.name]=function(...a){let o=s.renderer.apply(this,a);return o===!1&&(o=e.apply(this,a)),o}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let e=t[s.level];e?e.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),i.extensions=t),n.renderer){let s=this.defaults.renderer||new oe(this.defaults);for(let e in n.renderer){if(!(e in s))throw new Error(`renderer '${e}' does not exist`);if(["options","parser"].includes(e))continue;let a=e,o=n.renderer[a],u=s[a];s[a]=(...p)=>{let h=o.apply(s,p);return h===!1&&(h=u.apply(s,p)),h||""}}i.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new le(this.defaults);for(let e in n.tokenizer){if(!(e in s))throw new Error(`tokenizer '${e}' does not exist`);if(["options","rules","lexer"].includes(e))continue;let a=e,o=n.tokenizer[a],u=s[a];s[a]=(...p)=>{let h=o.apply(s,p);return h===!1&&(h=u.apply(s,p)),h}}i.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new ie;for(let e in n.hooks){if(!(e in s))throw new Error(`hook '${e}' does not exist`);if(["options","block"].includes(e))continue;let a=e,o=n.hooks[a],u=s[a];ie.passThroughHooks.has(e)?s[a]=p=>{if(this.defaults.async)return Promise.resolve(o.call(s,p)).then(l=>u.call(s,l));let h=o.call(s,p);return u.call(s,h)}:s[a]=(...p)=>{let h=o.apply(s,p);return h===!1&&(h=u.apply(s,p)),h}}i.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,e=n.walkTokens;i.walkTokens=function(a){let o=[];return o.push(e.call(this,a)),s&&(o=o.concat(s.call(this,a))),o}}this.defaults={...this.defaults,...i}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}lexer(r,t){return G.lex(r,t??this.defaults)}parser(r,t){return X.parse(r,t??this.defaults)}parseMarkdown(r){return(t,n)=>{let i={...n},s={...this.defaults,...i},e=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return e(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return e(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return e(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=r);let a=s.hooks?s.hooks.provideLexer():r?G.lex:G.lexInline,o=s.hooks?s.hooks.provideParser():r?X.parse:X.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(t):t).then(u=>a(u,s)).then(u=>s.hooks?s.hooks.processAllTokens(u):u).then(u=>s.walkTokens?Promise.all(this.walkTokens(u,s.walkTokens)).then(()=>u):u).then(u=>o(u,s)).then(u=>s.hooks?s.hooks.postprocess(u):u).catch(e);try{s.hooks&&(t=s.hooks.preprocess(t));let u=a(t,s);s.hooks&&(u=s.hooks.processAllTokens(u)),s.walkTokens&&this.walkTokens(u,s.walkTokens);let p=o(u,s);return s.hooks&&(p=s.hooks.postprocess(p)),p}catch(u){return e(u)}}}onError(r,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,r){let i="<p>An error occurred:</p><pre>"+O(n.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(n);throw n}}},Q=new Mt;function A(r,t){return Q.parse(r,t)}A.options=A.setOptions=function(r){return Q.setOptions(r),A.defaults=Q.defaults,je(A.defaults),A};A.getDefaults=ve;A.defaults=V;A.use=function(...r){return Q.use(...r),A.defaults=Q.defaults,je(A.defaults),A};A.walkTokens=function(r,t){return Q.walkTokens(r,t)};A.parseInline=Q.parseInline;A.Parser=X;A.parser=X.parse;A.Renderer=oe;A.TextRenderer=ze;A.Lexer=G;A.lexer=G.lex;A.Tokenizer=le;A.Hooks=ie;A.parse=A;A.options;A.setOptions;A.use;A.walkTokens;A.parseInline;X.parse;G.lex;export{A as d,jt as x};
